/* === NACHTHIMMEL – BASIS === */
html {
  background: radial-gradient(ellipse at bottom, #0a0116 0%, #020007 100%) !important;
}

body {
  background: transparent !important;
  position: relative;
  z-index: 0;
}

/* === CONTAINER-SETUP === */
.container,
.main, .page, .content, .OGS-outer, .OGS-inner, .player-page {
  background: transparent !important;
  position: relative;
  z-index: 1;
}

.container {
  max-width: none !important;
  overflow: visible !important;
  z-index: 0;
}

/* === STERNENSCHICHTEN === */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0 !important;
  background-image:
    /* kleine Sterne */
    radial-gradient(1px 1px at 5% 10%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 15% 25%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 25% 40%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 35% 60%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 45% 20%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 55% 75%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 65% 50%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 75% 80%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 85% 35%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 95% 65%, #fff 55%, transparent 56%),
    /* mittlere Sterne */
    radial-gradient(2px 2px at 10% 85%, #fff 60%, transparent 61%),
    radial-gradient(2px 2px at 30% 60%, #fff 60%, transparent 61%),
    radial-gradient(2px 2px at 70% 30%, #fff 60%, transparent 61%),
    radial-gradient(2px 2px at 80% 75%, #fff 60%, transparent 61%),
    radial-gradient(2px 2px at 60% 90%, #fff 60%, transparent 61%),
    /* große Sterne mit Glow */
    radial-gradient(8px 8px at 20% 25%, rgba(200,170,255,0.3) 0%, transparent 65%),
    radial-gradient(10px 10px at 50% 70%, rgba(200,170,255,0.25) 0%, transparent 65%),
    radial-gradient(12px 12px at 80% 40%, rgba(200,170,255,0.25) 0%, transparent 65%),
    radial-gradient(9px 9px at 60% 85%, rgba(200,170,255,0.25) 0%, transparent 65%);
  background-repeat: repeat;
  animation: twinkle 6s ease-in-out infinite alternate, drift 180s linear infinite;
  opacity: 0.35 !important;
}

/* === LEUCHTENDE BLITZE === */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  background:
    radial-gradient(90px 90px at 25% 25%, rgba(255,255,255,0.12) 0%, transparent 70%),
    radial-gradient(110px 110px at 70% 65%, rgba(255,255,255,0.1) 0%, transparent 70%),
    radial-gradient(120px 120px at 40% 85%, rgba(255,255,255,0.08) 0%, transparent 70%);
  animation: flash 12s ease-in-out infinite alternate;
  opacity: 0.25;
  mix-blend-mode: screen;
}

/* === METEOREN / RÖTLICHE SCHWEIFLICHTER === */
@keyframes meteor {
  0%   { transform: translate3d(60vw, -12vh, 0) rotate(18deg); opacity: 0; }
  8%   { opacity: 1; }
  100% { transform: translate3d(56vw, 110vh, 0) rotate(18deg); opacity: 0; }
}

.meteor {
  position: fixed;
  top: -10vh;
  left: 0;
  width: 2px;
  height: 120px;
  opacity: 0 !important; /* Start unsichtbar */
  animation-fill-mode: both;
  background: linear-gradient(18deg,
      rgba(255, 200, 210, 0.95) 0%,
      rgba(255, 120, 160, 0.85) 30%,
      rgba(220, 60, 140, 0.50) 60%,
      rgba(160, 30, 120, 0.00) 100%);
  border-radius: 50%;
  filter: blur(0.7px) drop-shadow(0 0 8px rgba(255,120,160,0.60))
                     drop-shadow(0 0 14px rgba(220,60,140,0.35));
  animation: meteor 18s linear infinite;
  z-index: 2;
}

.meteor::after {
  content: "";
  position: absolute;
  width: 7px;
  height: 7px;
  top: -3px;
  left: -2px;
  background: radial-gradient(circle, rgba(255,210,220,0.95) 0%, transparent 70%);
  border-radius: 50%;
  filter: blur(3px);
}

/* Drei Meteore mit leicht versetzten Zeiten */
.meteor:nth-child(1) { animation-delay: 3s;  left: 18%; height: 130px; }
.meteor:nth-child(2) { animation-delay: 11s; left: 42%; height: 150px; }
.meteor:nth-child(3) { animation-delay: 19s; left: 67%; height: 140px; }

/* === ANIMATIONEN === */
@keyframes twinkle {
  0%,100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.65; transform: scale(1.05); }
}
@keyframes drift {
  from { transform: translateY(0); }
  to { transform: translateY(-250px); }
}
@keyframes flash {
  0%,100% { opacity: 0.2; filter: blur(0.5px); }
  50% { opacity: 0.4; filter: blur(1.2px); }
}

/* === OGS-SPEZIFISCHE ANPASSUNGEN === */
body.light .RatingsChart .deviation-area {
  fill: rgba(160, 120, 255, 0.25) !important;
}
